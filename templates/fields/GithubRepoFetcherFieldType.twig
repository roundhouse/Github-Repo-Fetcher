{#
/**
 * Github Repo Fetcher plugin for Craft CMS
 *
 * GithubRepoFetcherFieldType HTML
 *
 * @author    Vadim Goncharov
 * @copyright Copyright (c) 2016 Vadim Goncharov
 * @link      http://roundhouseagency.com
 * @package   GithubRepoFetcher
 * @since     0.0.1
 */
#}

{% import "_includes/forms" as forms %}

{%- set value = (value is defined ? value : null) %}
{%- set githubFetcherSettings = settings %}
{%- set githubRepos = craft.githubRepoFetcher.getRepos(githubFetcherSettings) %}

<div class="field">
  <div class="select">
    <select id="githubRepo" name="githubRepo">
      {% for repo in githubRepos %}
        <option value="{{ repo.name }}" {% if value == repo.name %}selected{% endif %}>{{ repo.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="spinner-wraper"><div class="spinner hidden"></div></div>
</div>

<div class="repo-information">
  <div class="heading">
    <svg class="github-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
      <path fill="#4078c0" d="M16,0A16,16,0,1,0,32,16,16,16,0,0,0,16,0Zm4.48,28.19c-.09-1.25-.2-2.8-.2-3.43A3,3,0,0,0,19,22.27c4.62-.39,6.82-2.94,7-6.32a6.31,6.31,0,0,0-2-5A27.34,27.34,0,0,0,23.88,7c-1-.3-3.47,1-4.15,1.53a12.93,12.93,0,0,0-7.07,0C11.15,7.5,9.43,6.84,8.49,7A5,5,0,0,0,8.35,11c-1.11,1-2.67,2.27-2.25,4.89.68,3.85,3.38,5.92,7.75,6.43a1.41,1.41,0,0,0-1.16,1.18c-2.93,1.21-3.77-.75-4.14-1.25-1.23-1.52-2.33-1.08-2.4-1.06a.19.19,0,0,0-.11.17c.06.33.73.66.76.69a5.7,5.7,0,0,1,1.45,2.24c1.3,2.14,4.33,1.25,4.35,1.27,0,.19,0,1.76,0,3a13,13,0,1,1,7.91-.34Z"/>
    </svg>
    <h2 class="repo-name"><span class="text selectize-text"></span></h2>
    <p><span class="repo-stars">5 stars</span><span class="space-pipe">|</span><span class="repo-issues">5 issues</span><span class="space-pipe">|</span><span class="repo-forks">5 forks</span></p>
  </div>
  <div class="repo-content">
    <p class="repo-description"><span class="text selectize-text"></span></p>
  </div>
</div>
